<!--
	Copyright (c) tetronik GmbH (https://tetronik.com)

	Licensed under the Apache License, Version 2.0 (the "License");
	you may not use this file except in compliance with the License.
	You may obtain a copy of the License at

	http://www.apache.org/licenses/LICENSE-2.0

	Unless required by applicable law or agreed to in writing, software
	distributed under the License is distributed on an "AS IS" BASIS,
	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	See the License for the specific language governing permissions and
	limitations under the License.
-->


<!-- tetronik-Logging sum-output ############# -->
<script type="text/javascript">
	RED.nodes.registerType('t-daks log', {
		category: 'tetronik GmbH',
		color: '#f1666e',
		paletteLabel: "Central Logging",
		defaults: {
            name: {value:""},
            log: {type:"t-daks log-connector",required:true},
            console: {value:false}
		},
		outputs:1,
		icon:"font-awesome/fa-arrow-circle-right",
		label:function() {
			return this.name||"Central Logging";
		}
	});
</script>

<script type="text/x-red" data-template-name="t-daks log">
	<div class="form-row">
		<label for="node-input-name"><i class="icon-tag"></i> Name</label>
		<input type="text" id="node-input-name" placeholder="Name">
	</div>
	<div class="form-row">
        <label for="node-input-log"><i class="icon-tag"></i> Connector</label>
		<input type="text" id="node-input-log" placeholder="Logging-Connector">
	</div>
	<div class="form-row">
        <label for="node-input-console"><i class="icon-tag"></i> To console</label>
		<input type="checkbox" id="node-input-console" placeholder="Log to console">
	</div>
</script>

<script type="text/x-red" data-help-name="t-daks log">
	<p>Delivers messages from a specific log-connector to send those collected messages to a i.e. a database or dashboard.</p>
	
	<h3>Outputs</h3>
	<ol class="node-ports">
		<dl class="message-properties">
			<dt>payload <span class="property-type">string</span></dt>
			<dd>The message of the log.</dd>
		
			<dt>level <span class="property-type">string</span></dt>
			<dd>The log level can be INFO, WARNING, ERROR, CRITICAL and ALARM.</dd>

			<dt>location <span class="property-type">string</span></dt>
			<dd>The location, where the log happened (i.e. node name).</dd>
		</dl>
	</ol>
	
	<h3>Details</h3>
	<p>
		Central logging output of a selected "log connector".
		This node handles messages from tetronik nodes with the same selected "log connector" or from a "central logging input" node.
	</p>
	<p>
		You can easily map this log values to your logging node attributes, like Syslog, MySQL or the NodeRed-Dashboard.
	</p>
	<p>
		If you want to write the logs to the nodered console, you just have to tick the checkbox "To console".<br>
		<b>Warning:</b> This is not recommended for production mode!
		You should only check this box for debugging and you should use the nodes output for "normal" logging.
	</p>
</script>